# ~/.config/hypr/hypridle.conf
general {
  # Start hyprlock if it isn't already running
  lock_cmd = pidof hyprlock || hyprlock
  # Lock before going to sleep (suspend/hibernate)
  before_sleep_cmd = loginctl lock-session
  # Re-enable DPMS after wake so you don't need two keypresses
  after_sleep_cmd  = hyprctl dispatch dpms on
  # Let hypridle handle sleep inhibition cleanly
  inhibit_sleep = 2
}

# ===== Idle Timeout Presets (choose ONE) =====
# Conservative – 15 min lock / 20 min screen / 2 h suspend
#$LOCK = 900
#$SCREEN = 1200
#$SUSPEND = 7200

# Moderate – 30 min lock / 35 min screen / 1 h suspend  ← Recommended
$LOCK = 1800
$SCREEN = 2100
$SUSPEND = 3600

# Aggressive – 5 min lock / 5.5 min screen / 30 min suspend (original)
#$LOCK = 300
#$SCREEN = 330
#$SUSPEND = 1800
# ============================================

# Dim/backlight example (comment out if you don't use brightnessctl)
# listener {
#   timeout = 150
#   on-timeout = brightnessctl -s set 10
#   on-resume  = brightnessctl -r
# }

# Lock screen
listener {
  timeout = $LOCK
  on-timeout = loginctl lock-session
}

# Turn displays off
listener {
  timeout = $SCREEN
  on-timeout = hyprctl dispatch dpms off
  on-resume  = hyprctl dispatch dpms on
}

# Suspend system
listener {
  timeout = $SUSPEND
  on-timeout = systemctl suspend
}

