# Sway configuration file
# Variables
set $mod Mod4
set $terminal alacritty
set $browser chromium --new-window --ozone-platform=wayland
set $menu wofi --show drun
set $osdclient swayosd-client

# Set wallpaper
output * bg ~/wallpaper.png fill

# Font for window titles
font pango:JetBrains Mono Nerd Font 10

# Use Mouse+$mod to drag floating windows
floating_modifier $mod

# Application bindings (matching Hyprland)
bindsym $mod+space exec $menu
bindsym $mod+t exec $terminal
bindsym $mod+e exec nautilus --new-window
bindsym $mod+b exec $browser
bindsym $mod+s exec spotify
bindsym $mod+o exec obsidian
bindsym $mod+d exec vesktop

# Web app shortcuts (matching Hyprland)
bindsym $mod+a exec $browser --app="https://chatgpt.com"
bindsym $mod+Shift+a exec $browser --app="https://wiki.hypr.land"
bindsym $mod+Alt+g exec $browser --app="https://grok.com"
bindsym $mod+g exec $browser --app="https://github.com"
bindsym $mod+f exec $browser --app="https://facebook.com"
bindsym $mod+r exec $browser --app="https://reddit.com"
bindsym $mod+y exec $browser --app="https://youtube.com/"
bindsym $mod+m exec $browser --app="https://messages.google.com/web/conversations"
bindsym $mod+x exec $browser --app="https://x.com/"
bindsym $mod+Shift+x exec $browser --app="https://x.com/compose/post"

# Scratchpad (F12)
bindsym F12 exec ~/.config/hypr/dropdown-term.sh

# Wallpaper rotation
bindsym $mod+u exec ~/.local/bin/wallpaper-random.sh

# Power menu
bindsym $mod+Alt+space exec ~/.local/bin/waybar-scripts-menu.sh

# Volume controls (multimedia keys)
bindsym XF86AudioRaiseVolume exec $osdclient --output-volume raise
bindsym XF86AudioLowerVolume exec $osdclient --output-volume lower
bindsym XF86AudioMute exec $osdclient --output-volume mute-toggle
bindsym XF86AudioMicMute exec $osdclient --input-volume mute-toggle

# Brightness controls
bindsym XF86MonBrightnessUp exec $osdclient --brightness raise
bindsym XF86MonBrightnessDown exec $osdclient --brightness lower

# Media player controls
bindsym XF86AudioNext exec $osdclient --playerctl next
bindsym XF86AudioPause exec $osdclient --playerctl play-pause
bindsym XF86AudioPlay exec $osdclient --playerctl play-pause
bindsym XF86AudioPrev exec $osdclient --playerctl previous

# Window management
bindsym $mod+w kill
bindsym $mod+c exec cliphist list | wofi --dmenu | cliphist decode | wl-copy

# Tiling controls
bindsym $mod+q splith
bindsym $mod+p splitv
bindsym $mod+v floating toggle
bindsym Shift+F11 fullscreen toggle

# Focus movement (arrow keys and hjkl)
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# Move windows (arrow keys and hjkl)
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# Workspace bindings
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10

# Move container to workspace
bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10

# Move container to workspace and follow
bindsym $mod+Alt+1 move container to workspace number 1; workspace number 1
bindsym $mod+Alt+2 move container to workspace number 2; workspace number 2
bindsym $mod+Alt+3 move container to workspace number 3; workspace number 3
bindsym $mod+Alt+4 move container to workspace number 4; workspace number 4
bindsym $mod+Alt+5 move container to workspace number 5; workspace number 5
bindsym $mod+Alt+6 move container to workspace number 6; workspace number 6
bindsym $mod+Alt+7 move container to workspace number 7; workspace number 7
bindsym $mod+Alt+8 move container to workspace number 8; workspace number 8
bindsym $mod+Alt+9 move container to workspace number 9; workspace number 9
bindsym $mod+Alt+0 move container to workspace number 10; workspace number 10

# Screenshot bindings (using grim/slurp instead of hyprshot)
bindsym Print exec grim -g "$(slurp)" ~/Pictures/Screenshots/screenshot-$(date +%Y%m%d_%H%M%S).png
bindsym $mod+Print exec grim -g "$(swaymsg -t get_tree | jq -r '.. | select(.focused?) | .rect | "\(.x),\(.y) \(.width)x\(.height)"')" ~/Pictures/Screenshots/window-$(date +%Y%m%d_%H%M%S).png
bindsym $mod+Shift+Print exec grim ~/Pictures/Screenshots/fullscreen-$(date +%Y%m%d_%H%M%S).png

# Resize mode
mode "resize" {
    bindsym Left resize shrink width 10px
    bindsym Down resize grow height 10px
    bindsym Up resize shrink height 10px
    bindsym Right resize grow width 10px
    bindsym h resize shrink width 10px
    bindsym j resize grow height 10px
    bindsym k resize shrink height 10px
    bindsym l resize grow width 10px
    
    bindsym Return mode "default"
    bindsym Escape mode "default"
    bindsym $mod+r mode "default"
}

# Window resize with SUPER + minus/equal (matching Hyprland)
bindsym $mod+minus resize shrink width 100px
bindsym $mod+equal resize grow width 100px
bindsym $mod+Shift+minus resize shrink height 100px
bindsym $mod+Shift+equal resize grow height 100px

# Layout
default_border pixel 2
default_floating_border pixel 2
gaps inner 5
gaps outer 0

# Window rules
for_window [app_id="float"] floating enable

# Input configuration
input type:keyboard {
    xkb_layout us
    repeat_delay 300
    repeat_rate 50
}

input type:touchpad {
    tap enabled
    natural_scroll enabled
    dwt enabled
    accel_profile "adaptive"
    click_method clickfinger
}

# Monitor configuration (adjust as needed)
# output DP-3 resolution 1920x1080 position 0,0
# output eDP-1 resolution 1920x1080 position 1920,0

# Autostart applications
exec waybar
exec mako
exec swayidle -w timeout 300 'swaylock -f' timeout 600 'swaymsg "output * dpms off"' resume 'swaymsg "output * dpms on"' before-sleep 'swaylock -f'

# Enable XWayland
xwayland enable
